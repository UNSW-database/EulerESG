# ğŸŒ± ESGæŠ¥å‘Šåˆ†æç³»ç»Ÿ

å…¨æ ˆESGï¼ˆç¯å¢ƒã€ç¤¾ä¼šã€æ²»ç†ï¼‰æŠ¥å‘Šåˆ†æå¹³å°ï¼Œæä¾›æ™ºèƒ½åŒ–çš„ESGæ•°æ®æå–ã€åˆè§„åˆ†æå’Œäº¤äº’å¼æŸ¥è¯¢åŠŸèƒ½ã€‚

## âœ¨ ç³»ç»Ÿç‰¹æ€§

- ğŸ“„ **æ™ºèƒ½PDFè§£æ** - è‡ªåŠ¨æå–ESGæŠ¥å‘Šå†…å®¹å¹¶ç»“æ„åŒ–å¤„ç†
- ğŸ” **åŒé€šé“æ£€ç´¢** - ç»“åˆå…³é”®è¯åŒ¹é…å’Œè¯­ä¹‰æ£€ç´¢çš„æ··åˆæœç´¢
- ğŸ“Š **SASBæ ‡å‡†è¯„ä¼°** - åŸºäºè¡Œä¸šæ ‡å‡†çš„åˆè§„æ€§è‡ªåŠ¨è¯„åˆ†
- ğŸ’¬ **æ™ºèƒ½é—®ç­”** - æ”¯æŒä¸­è‹±æ–‡çš„ESGæ•°æ®äº¤äº’å¼æŸ¥è¯¢
- ğŸ“ˆ **å¯è§†åŒ–å±•ç¤º** - ç›´è§‚çš„åˆ†æç»“æœå’Œåˆè§„åº¦å±•ç¤º

## ğŸ“ é¡¹ç›®ç»“æ„

```
ESG DEMO/
â”œâ”€â”€ backend/                    # Pythonåç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/                   # æ ¸å¿ƒæºä»£ç 
â”‚   â”‚   â””â”€â”€ esg_encoding/      # ESGå¤„ç†æ¨¡å—ï¼ˆ13ä¸ªæ ¸å¿ƒæ¨¡å—ï¼‰
â”‚   â”œâ”€â”€ scripts/               # ç®¡ç†å’Œå¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ data/sasb_metrics/     # SASBè¡Œä¸šæŒ‡æ ‡æ•°æ®
â”‚   â”œâ”€â”€ outputs/               # ç”Ÿæˆçš„åˆè§„æŠ¥å‘Š
â”‚   â”œâ”€â”€ docs/                  # åç«¯æ–‡æ¡£
â”‚   â””â”€â”€ config/                # ç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€â”€ ESG-demo-main/             
â”‚   â””â”€â”€ frontend/              # Next.jså‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ src/               
â”‚       â”‚   â”œâ”€â”€ app/          # Next.js 15 App Router
â”‚       â”‚   â””â”€â”€ components/    # Reactç»„ä»¶åº“
â”‚       â”œâ”€â”€ public/           # é™æ€èµ„æº
â”‚       â””â”€â”€ out/              # æ„å»ºè¾“å‡º
â”œâ”€â”€ uploads/                   # æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿ
â”‚   â”œâ”€â”€ reports/              # ESGæŠ¥å‘Šå­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ pending/          # å¾…å¤„ç†æŠ¥å‘Š
â”‚   â”‚   â””â”€â”€ processed/        # å·²å¤„ç†æŠ¥å‘Š
â”‚   â”œâ”€â”€ metrics/              # æŒ‡æ ‡æ–‡ä»¶
â”‚   â””â”€â”€ outputs/              # å¤„ç†ç»“æœ
â”œâ”€â”€ data/                     # ç¤ºä¾‹æ•°æ®æ–‡ä»¶
â”œâ”€â”€ logs/                     # ç³»ç»Ÿæ—¥å¿—
â”œâ”€â”€ docs/                     # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ scripts/                  # é¡¹ç›®çº§è„šæœ¬
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **Python** 3.10+
- **Node.js** 16+
- **npm** æˆ– yarn

### æ¨èæ–¹å¼ï¼šåˆ†åˆ«å¯åŠ¨

> **é‡è¦æç¤º**: ç”±äºWindowsç³»ç»Ÿç¼–ç é—®é¢˜ï¼Œæ¨èä½¿ç”¨åˆ†åˆ«å¯åŠ¨æ–¹å¼ä»¥è·å¾—æ›´å¥½çš„ç¨³å®šæ€§ã€‚

#### ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨åç«¯æœåŠ¡
```bash
cd backend
python scripts/start_backend.py
```

ç­‰å¾…åç«¯å®Œå…¨å¯åŠ¨ï¼ˆçœ‹åˆ° "Application startup complete" å’Œ "Uvicorn running" æ¶ˆæ¯ï¼‰

#### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å‰ç«¯åº”ç”¨
```bash
# æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£
cd ESG-demo-main/frontend
npm install  # é¦–æ¬¡è¿è¡Œæ—¶å®‰è£…ä¾èµ–
npm run dev -- --port 3001
```

### ä¸€é”®å¯åŠ¨ï¼ˆå¯é€‰ï¼‰
```bash
# å¯åŠ¨å®Œæ•´ç³»ç»Ÿï¼ˆå‰ç«¯+åç«¯ï¼‰
# æ³¨æ„ï¼šå¯èƒ½åœ¨æŸäº›Windowsç³»ç»Ÿä¸Šé‡åˆ°ç¼–ç é—®é¢˜
python scripts/start_project.py
```

### æ‰‹åŠ¨å¯åŠ¨æ–¹å¼

#### åç«¯æœåŠ¡ï¼ˆå¦‚éœ€æ‰‹åŠ¨å¯åŠ¨ï¼‰
```bash
cd backend/src
uvicorn esg_encoding.api:app --host 0.0.0.0 --port 8000
```

#### å‰ç«¯åº”ç”¨ï¼ˆå¦‚éœ€æ‰‹åŠ¨å¯åŠ¨ï¼‰
```bash
cd ESG-demo-main/frontend
npm install  # é¦–æ¬¡è¿è¡Œæ—¶å®‰è£…ä¾èµ–
npm run dev -- --port 3001
```

## ğŸ”— è®¿é—®åœ°å€

- **å‰ç«¯ç•Œé¢**: http://localhost:3001
- **åç«¯API**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/docs

> æ³¨æ„ï¼šå‰ç«¯è¿è¡Œåœ¨3001ç«¯å£ï¼Œåç«¯APIè¿è¡Œåœ¨8000ç«¯å£

## ğŸ’» æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **æ¡†æ¶**: FastAPI (é«˜æ€§èƒ½å¼‚æ­¥æ¡†æ¶)
- **AI/ML**: 
  - Sentence Transformers (è¯­ä¹‰åµŒå…¥)
  - é€šä¹‰åƒé—® API (ä¸­æ–‡LLM)
  - PyTorch (æ·±åº¦å­¦ä¹ )
- **æ•°æ®å¤„ç†**: 
  - PyPDF2 (PDFè§£æ)
  - Pandas (æ•°æ®åˆ†æ)
  - NumPy (æ•°å€¼è®¡ç®—)

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Next.js 15.3.3 (App Router)
- **UIåº“**: 
  - Ant Design 5.25
  - Tailwind CSS 4
  - Radix UI
- **çŠ¶æ€ç®¡ç†**: Zustand 5
- **PDFå±•ç¤º**: React-PDF 7.7

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. å†…å®¹æå–å™¨ (`content_extractor.py`)
- PDFæ–‡æ¡£è§£æå’Œæ–‡æœ¬æå–
- å†…å®¹æ¸…æ´—å’Œæ ¼å¼åŒ–
- å…ƒæ•°æ®æå–

### 2. æŠ¥å‘Šç¼–ç å™¨ (`report_encoder.py`)
- æ–‡æ¡£åˆ†å—å¤„ç†
- å‘é‡åµŒå…¥ç”Ÿæˆ
- è¯­ä¹‰ç´¢å¼•æ„å»º

### 3. æŒ‡æ ‡å¤„ç†å™¨ (`metric_processor.py`)
- SASBæŒ‡æ ‡è§£æ
- Excel/JSONæ•°æ®å¯¼å…¥
- è¡Œä¸šæ ‡å‡†æ˜ å°„

### 4. åŒé€šé“æ£€ç´¢å™¨ (`dual_channel_retrieval.py`)
- å…³é”®è¯ç²¾ç¡®åŒ¹é…
- è¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢
- æ··åˆæ’åºç®—æ³•

### 5. æŠ«éœ²æ¨ç†å¼•æ“ (`disclosure_inference.py`)
- AIé©±åŠ¨çš„åˆè§„åˆ†æ
- æŠ«éœ²çŠ¶æ€è¯„ä¼°
- è‡ªåŠ¨ç”Ÿæˆåˆè§„æŠ¥å‘Š

### 6. ESGèŠå¤©æœºå™¨äºº (`esg_chatbot.py`)
- è‡ªç„¶è¯­è¨€ç†è§£
- ä¸Šä¸‹æ–‡å¯¹è¯ç®¡ç†
- å¤šè¯­è¨€æ”¯æŒ

## ğŸ› ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
```bash
cp backend/config/.env.example backend/config/.env
```

2. ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®APIå¯†é’¥
```env
# LLMé…ç½®ï¼ˆé€šä¹‰åƒé—®ï¼‰
LLM_API_KEY=your-api-key-here
LLM_BASE_URL=https://dashscope.aliyuncs.com/api/v1
LLM_MODEL=qwen-plus
```

### SASBè¡Œä¸šæ”¯æŒ
ç³»ç»Ÿæ”¯æŒä»¥ä¸‹SASBè¡Œä¸šæ ‡å‡†ï¼š
- ç”µå­åˆ¶é€ æœåŠ¡
- ç¡¬ä»¶
- äº’è”ç½‘åª’ä½“ä¸æœåŠ¡
- åŠå¯¼ä½“
- è½¯ä»¶ä¸ITæœåŠ¡
- ç”µä¿¡æœåŠ¡

## ğŸ“ ä½¿ç”¨æµç¨‹

1. **ä¸Šä¼ æŠ¥å‘Š** - å°†ESGæŠ¥å‘ŠPDFä¸Šä¼ åˆ°ç³»ç»Ÿ
2. **é€‰æ‹©è¡Œä¸š** - é€‰æ‹©å¯¹åº”çš„SASBè¡Œä¸šåˆ†ç±»
3. **è‡ªåŠ¨å¤„ç†** - ç³»ç»Ÿè‡ªåŠ¨æå–å’Œåˆ†æå†…å®¹
4. **æŸ¥çœ‹ç»“æœ** - æŸ¥çœ‹åˆè§„è¯„ä¼°æŠ¥å‘Š
5. **æ™ºèƒ½é—®ç­”** - ä½¿ç”¨èŠå¤©åŠŸèƒ½æ·±å…¥äº†è§£æŠ¥å‘Šå†…å®¹

## ğŸ—‚ï¸ æ•°æ®æµç¨‹

```
ä¸Šä¼  â†’ uploads/reports/pending/
  â†“
å¤„ç† â†’ uploads/reports/processed/
  â†“
åˆ†æ â†’ backend/outputs/
  â†“
å±•ç¤º â†’ å‰ç«¯ç•Œé¢
```

## ğŸ“Š APIæ¥å£

ä¸»è¦APIç«¯ç‚¹ï¼š
- `POST /upload_report` - ä¸Šä¼ ESGæŠ¥å‘Š
- `POST /upload_metrics` - ä¸Šä¼ æŒ‡æ ‡æ–‡ä»¶
- `POST /process_report` - å¤„ç†æŠ¥å‘Š
- `POST /compliance_assessment` - åˆè§„è¯„ä¼°
- `POST /chat` - æ™ºèƒ½é—®ç­”
- `GET /system_status` - ç³»ç»ŸçŠ¶æ€

è¯¦ç»†APIæ–‡æ¡£è¯·è®¿é—®: http://localhost:8000/docs

## ğŸ” ç›‘æ§ä¸ç»´æŠ¤

### ç³»ç»Ÿå¥åº·æ£€æŸ¥
```bash
python backend/scripts/system_health_check.py
```

### åç«¯ç›‘æ§
```bash
python backend/monitor_backend.py
```

### æ—¥å¿—æŸ¥çœ‹
- APIæ—¥å¿—: `logs/esg_api_server.log`
- ç³»ç»Ÿæ—¥å¿—: `backend/logs/`

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å‘èµ· Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ†˜ æ•…éšœæ’é™¤

### å¯åŠ¨é—®é¢˜è§£å†³æ–¹æ¡ˆ

1. **ä¸€é”®å¯åŠ¨è„šæœ¬ç¼–ç é”™è¯¯**
   ```
   é”™è¯¯ï¼šUnicodeEncodeError: 'gbk' codec can't encode character
   ```
   **è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨åˆ†åˆ«å¯åŠ¨æ–¹å¼ï¼Œé¿å…Windowsç¼–ç é—®é¢˜ã€‚

2. **ç«¯å£å ç”¨é”™è¯¯**
   ```
   é”™è¯¯ï¼š[Errno 10048] error while attempting to bind on address
   ```
   **è§£å†³æ­¥éª¤**ï¼š
   ```bash
   # 1. æŸ¥çœ‹ç«¯å£å ç”¨
   netstat -ano | findstr :8000
   
   # 2. ç»“æŸå ç”¨è¿›ç¨‹ï¼ˆæ›¿æ¢<PID>ä¸ºå®é™…è¿›ç¨‹IDï¼‰
   powershell -Command "Stop-Process -Id <PID> -Force"
   
   # 3. é‡æ–°å¯åŠ¨æœåŠ¡
   cd backend && python scripts/start_backend.py
   ```

3. **åç«¯å¯åŠ¨ä½†æ— æ³•è®¿é—®**
   - ç¡®ä¿çœ‹åˆ° "Application startup complete" æ¶ˆæ¯
   - ç­‰å¾…æ¨¡å‹åŠ è½½å®Œæˆï¼ˆçº¦20-30ç§’ï¼‰
   - æ£€æŸ¥APIåœ°å€ï¼šhttp://localhost:8000/docs

4. **å‰ç«¯å¯åŠ¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆéœ€è¦16+ï¼‰
   node --version
   
   # é‡æ–°å®‰è£…ä¾èµ–
   cd ESG-demo-main/frontend
   rm -rf node_modules package-lock.json
   npm install
   
   # å¯åŠ¨å‰ç«¯
   npm run dev -- --port 3001
   ```

### å¸¸è§é—®é¢˜

1. **ç«¯å£é…ç½®**
   - å‰ç«¯é»˜è®¤ç«¯å£: 3001
   - åç«¯é»˜è®¤ç«¯å£: 8000
   - æ‰€æœ‰ç«¯å£é…ç½®å·²ç»Ÿä¸€æ›´æ–°

2. **ä¾èµ–å®‰è£…å¤±è´¥**
   ```bash
   # Pythonä¾èµ–
   pip install -r backend/requirements.txt
   
   # Nodeä¾èµ–
   cd ESG-demo-main/frontend && npm install
   ```

3. **APIå¯†é’¥é…ç½®**
   - ç¡®ä¿ `backend/config/.env` æ–‡ä»¶å­˜åœ¨
   - æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®é…ç½®

### å¯åŠ¨æˆåŠŸæ ‡å¿—

**åç«¯å¯åŠ¨æˆåŠŸ**åº”çœ‹åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š
```
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
```

**å‰ç«¯å¯åŠ¨æˆåŠŸ**åº”çœ‹åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š
```
â–² Next.js 15.3.3
- Local:        http://localhost:3001
- Network:      http://192.168.x.x:3001

âœ“ Ready in 1275ms
```

**ç³»ç»Ÿå®Œå…¨å°±ç»ª**çš„éªŒè¯æ–¹æ³•ï¼š
- è®¿é—® http://localhost:3001 çœ‹åˆ°å‰ç«¯ç•Œé¢
- è®¿é—® http://localhost:8000/docs çœ‹åˆ°APIæ–‡æ¡£
- å‰ç«¯èƒ½å¤Ÿæ­£å¸¸åŠ è½½æ•°æ®å’Œæ˜¾ç¤ºç³»ç»ŸçŠ¶æ€

## ğŸ“§ è”ç³»æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ–æŸ¥çœ‹ `docs/` ç›®å½•ä¸‹çš„è¯¦ç»†æ–‡æ¡£ã€‚

---

<div align="center">
  <sub>Built with â¤ï¸ for sustainable business</sub>
</div>